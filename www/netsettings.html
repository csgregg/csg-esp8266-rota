<!DOCTYPE html>
<html lang="en">
<head>
    <title>Network Settings</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="w3.css">
    <link rel="stylesheet" href="common.css">
</head>

<body class="w3-white">
    
    <!-- !HEADER! -->
    <span class="pre-include" src="header.htm"></span>

    <!-- !PAGE CONTENT! -->
    <div id="main" class="w3-main" style="margin-left:300px;">

        <!-- Message bar -->
        <span class="pre-include" src="msg.htm"></span>

        <!-- Header -->
        <div class="w3-container w3-padding-notop">
            <div class="w3-row w3-padding-8 w3-text-dark-grey w3-border w3-round w3-light-grey">
                <div class="w3-cell w3-large">
                    <b>Network Settings</b>
                </div>
            </div>
        </div>

        <div class="w3-row">

        <!-- Wifi Mode -->
            <div class="w3-container w3-padding-notop">
                <div id="wifi_mode_box" class="w3-col w3-border w3-round w3-light-grey w3-text-dark-grey w3-padding-horz">
                    <div class="w3-row w3-padding-vert">
                        <b>WiFi Mode</b>
                    </div>

                    <div class="w3-row">
                        <div class="w3-cell">
                            <label class="switch">
                                <input id="wifi_mode_stn" type="checkbox" value="t" onchange="SureDlg(this);">
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <div class="w3-cell w3-padding-small">Connect to WiFi</div>
                    </div>  

                    <div class="w3-row w3-margin-bottom">
                        <div class="w3-cell">
                            <label class="switch">
                                <input id="wifi_mode_ap" type="checkbox" value="t" onchange="SureDlg(this);">
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <div class="w3-cell w3-padding-small">Access Point</div>
                    </div>  
                    
                </div>
            </div>
        </div>

        <div class="w3-row">

            <!-- Current Wifi Networks -->
            <div class="w3-half">
                <div class="w3-container w3-padding-notop">
                    <div id="wifi_saved_box" class="w3-col w3-border w3-round w3-light-grey w3-text-dark-grey w3-padding-horz">
                        <div class="w3-row w3-padding-vert">
                            <b>Saved Networks</b>
                        </div>
                        <div id="wifi_stn_entry" hidden class="w3-row">
                            <img class="w3-padding-8" alt="" style="opacity: 0.20;" src="signal32-4.png">
                            <button style="width:150px;" class="w3-button w3-blue w3-padding-small">Network</button>
                        </div>
                        <div class="w3-row w3-padding-8 w3-small">
                            Assigned IP: 
                            <span id="wifi_stn_asip"></span>
                        </div>
                    </div>
                </div>
                <div class="w3-container w3-padding-notop">
                    <div id="wifi_new_box" class="w3-col w3-border w3-round w3-light-grey w3-text-dark-grey w3-padding-horz">
                        <div class="w3-row w3-padding-vert">
                            <b>New Networks</b>
                        </div>
                        <div id="wifi_stn_add" hidden class="w3-row">
                            <img class="w3-padding-8" alt="" style="opacity: 1.0;" src="signal32-4.png">
                            <button style="width:150px;" onclick="addWifiDialog()" class="w3-button w3-blue w3-padding-small">Add network</button>
                        </div>
                        <div class="w3-margin-bottom"></div>
                    </div>
                </div>
            </div>

            <!-- Wifi AP Settings -->
            <div class="w3-half">
                <div class="w3-container w3-padding-notop">
                    <form id="wifi_ap_box" class="w3-col w3-border w3-round w3-light-grey w3-text-dark-grey w3-padding-horz">
                        <div class="w3-row">
                            <b>WiFi Access Point</b>
                            <img id="wifi_ap_icon" class="w3-padding-8" alt="" style="opacity: 0.20;" src="signal32-4.png">
                        </div>
                        <div class="w3-row w3-padding-small">
                            
                            <!-- AP Details -->
                            <input id="wifi_ap_ssid" class="w3-input w3-border w3-margin-bottom" type="text" minlength="7" maxlength="15" placeholder="Enter network name" required autocomplete="current-user" onchange="enableElmt('wifi_ap_save','wifi_ap_cancel');">
                    
                            <div class="w3-display-container">
                                <input id="wifi_ap_pwd" class="w3-input w3-border w3-margin-bottom" type="password" minlength="7" maxlength="15" placeholder="Enter password" autocomplete="current-password" onchange="enableElmt('wifi_ap_save','wifi_ap_cancel');">
                                <img class="w3-display-right w3-padding-small" alt="" src="eye-16.png"  onclick="visiblePwd('wifi_ap_pwd')">
                            </div>

                            <div class="w3-container w3-no-padding">
                                <div class="w3-col" style="line-height: 35px;width:80px;">
                                    IP Address
                                </div>
                                <div class="w3-col w3-padding-small" style="width:150px">
                                    <input id="wifi_ap_ip" class="w3-input w3-border w3-padding-small" type="text" minlength="7" maxlength="15" placeholder="xxx.xxx.xxx.xxx" onchange="if(ValidateIPaddress(this,'Invalid IP Address')) enableElmt('wifi_ap_save','wifi_ap_cancel');">
                                </div>
                            </div>        

                            <div class="w3-container w3-no-padding">
                                <div class="w3-col" style="line-height: 35px;width:80px;">
                                    Subnet
                                </div>
                                <div class="w3-col w3-padding-small" style="width:150px">
                                    <input id="wifi_ap_snet" class="w3-input w3-border w3-padding-small" type="text" minlength="7" maxlength="15" placeholder="xxx.xxx.xxx.xxx" onchange="if(ValidateIPaddress(this,'Invalid Subnet')) enableElmt('wifi_ap_save','wifi_ap_cancel');">
                                </div>
                            </div>
                    
                            <div class="w3-container w3-no-padding">
                                <div class="w3-col" style="line-height: 35px;width:80px;">
                                    Gateway
                                </div>
                                <div class="w3-col w3-padding-small" style="width:150px">
                                    <input id="wifi_ap_gtwy" class="w3-input w3-border w3-padding-small" type="text" minlength="7" maxlength="15" placeholder="xxx.xxx.xxx.xxx" onchange="if(ValidateIPaddress(this,'Invalid Gateway')) enableElmt('wifi_ap_save','wifi_ap_cancel');">
                                </div>
                            </div>

                            <div class="w3-container w3-no-padding">
                                <div class="w3-col" style="line-height: 35px;width:80px;">
                                    Channel
                                </div>
                                <div class="w3-col w3-padding-small" style="width:150px">
                                    <select id="wifi_ap_ch" class="w3-select w3-border w3-padding-small" onchange="enableElmt('wifi_ap_save','wifi_ap_cancel');">
                                        <option value="" disabled selected>Select</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                        <option value="13">13</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Save / Cancel -->
                            <div class="w3-container w3-padding-vert" style="margin-bottom:2px;">
                                <button id="wifi_ap_save" disabled onclick="SureDlg(this);" type="button" class="w3-button w3-green w3-padding-small">Save</button>
                                <button id="wifi_ap_cancel" disabled onclick="disableElmt('wifi_ap_save','wifi_ap_cancel');doRequestAll();" type="button" class="w3-button w3-red w3-padding-small">Cancel</button>
                            </div>
                        </div>        
                    </form>
                </div>
            </div>
        </div>


        <div class="w3-row">

            <div class="w3-half">

                <!-- Connectivity -->
                <div class="w3-container w3-padding-notop">
                    <div id="net_ck_box" class="w3-col w3-border w3-round w3-light-grey w3-text-dark-grey w3-padding-horz">
                        <div class="w3-row w3-padding-vert">
                            <b>Connectivity</b>
                        </div>

                        <div class="w3-row">
                            <div class="w3-cell w3-padding-8">
                                <label class="switch">
                                    <input id="net_ck_mode" type="checkbox" value="t" onchange="enableElmt('net_ck_save','net_ck_cancel');">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                            <div class="w3-cell w3-padding-small">Check</div>
                        </div>  

                        <div class="w3-container w3-padding-horz">
                            <div class="w3-col" style="line-height: 40px;width:100px;">
                                Check interval
                            </div>
                            <div class="w3-col w3-padding-small" style="width:75px">
                                <input id="net_ck_int" class="w3-input w3-border w3-padding-small" type="text" maxlength="3"  onchange="enableElmt('net_ck_save','net_ck_cancel');">
                            </div>
                            <div class="w3-col" style="line-height: 40px;width:90px;">
                                (Seconds)
                            </div>
                        </div>

                        <div class="w3-container w3-padding-horz">
                            <div class="w3-col" style="line-height: 40px;width:100px;">
                                Check URL
                            </div>
                            <div class="w3-col w3-padding-small" style="width:150px">
                                <input id="net_ck_url" class="w3-input w3-border w3-padding-small" type="text" maxlength="35" onchange="enableElmt('net_ck_save','net_ck_cancel');">
                            </div>
                        </div>

                        <!-- Save / Cancel -->
                        <div class="w3-container w3-padding-8" style="margin-bottom:6px;">
                            <button id="net_ck_save" disabled onclick="SureDlg(this);" type="button" class="w3-button w3-green w3-padding-small">Save</button>
                            <button id="net_ck_cancel" disabled onclick="disableElmt('net_ck_save','net_ck_cancel');doRequestAll();" type="button" class="w3-button w3-red w3-padding-small">Cancel</button>
                        </div>
                        
                    </div>
                </div> 

                <!-- Location -->
                <div class="w3-container w3-padding-notop">
                    <div id="tlo_box" class="w3-col w3-border w3-round w3-light-grey w3-text-dark-grey w3-padding-horz">
                        <div class="w3-row w3-padding-vert">
                            <b>Location and Time</b>
                        </div>

                        <!-- Detect -->
                        <div class="w3-container w3-padding-8">
                            <button id="tlo_detect" onclick="DetectLocation();" type="button" class="w3-button w3-blue w3-padding-small">Detect Location</button>
                        </div>

                        <div class="w3-row">
                            <div class="w3-cell w3-padding-small">
                                Location: <span id="tlo_loc"></span>
                            </div>
                        </div> 

                        <div class="w3-row">
                            <div class="w3-cell w3-padding-small">
                                Timezone: <span id="tlo_tz"></span>
                            </div>
                        </div> 

                        <div class="w3-container w3-padding-horz">
                            <div class="w3-col" style="line-height: 40px;width:100px;">
                                IPInfo Token
                            </div>
                            <div class="w3-col w3-padding-small" style="width:150px">
                                <input id="tlo_token" class="w3-input w3-border w3-padding-small" type="text" maxlength="35" onchange="enableElmt('tlo_save','tlo_cancel');">
                            </div>
                        </div>

                        <div class="w3-row">
                            <div class="w3-cell w3-padding-8">
                                <label class="switch">
                                    <input id="tlo_ntp" type="checkbox" value="t" onchange="enableElmt('tlo_save','tlo_cancel');">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                            <div class="w3-cell w3-padding-small">
                                Auto detect time
                            </div>
                        </div>  

                        <!-- Save / Cancel -->
                        <div class="w3-container w3-padding-8" style="margin-bottom:6px;">
                            <button id="tlo_save" disabled onclick="SureDlg(this);" type="button" class="w3-button w3-green w3-padding-small">Save</button>
                            <button id="tlo_cancel" disabled onclick="disableElmt('tlo_save','tlo_cancel');doRequestAll();" type="button" class="w3-button w3-red w3-padding-small">Cancel</button>
                        </div>
                        
                    </div>
                </div> 

            </div>

            <div class="w3-half">
                <!-- Domain Names -->
                <div class="w3-container w3-padding-notop">
                    <div id="dns_box" class="w3-col w3-border w3-round w3-light-grey w3-text-dark-grey w3-padding-horz">
                        <div class="w3-row w3-padding-vert">
                            <b>DNS</b>
                        </div>

                        <div class="w3-container w3-padding-horz">
                            <div class="w3-col" style="line-height: 40px;width:100px;">
                                Host name
                            </div>
                            <div class="w3-col w3-padding-small" style="width:150px">
                                <input id="dns_name" class="w3-input w3-border w3-padding-small" type="text" maxlength="35" onchange="enableElmt('dns_save','dns_cancel');">
                            </div>
                        </div>

                        <div class="w3-row">
                            <div class="w3-cell w3-padding-8">
                                <label class="switch">
                                    <input id="dns_mode" type="checkbox" value="t" onchange="enableElmt('dns_save','dns_cancel');this.checked?enableElmt('dns_mdnselmt','dns_mdns'):disableElmt('dns_mdnselmt','dns_mdns');">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                            <div class="w3-cell w3-padding-small">DNS Enabled</div>
                        </div>  

                        <div class="w3-row">
                            <div class="w3-cell w3-padding-8">
                                <label class="switch">
                                    <input id="dns_mdns" type="checkbox" value="t" onchange="enableElmt('dns_save','dns_cancel');">
                                    <span id="dns_mdnselmt" class="slider round"></span>
                                </label>
                            </div>
                            <div class="w3-cell w3-padding-small">mDNS (Bonjour)</div>
                        </div>

                        <!-- Save / Cancel -->
                        <div class="w3-container w3-padding-8">
                            <button id="dns_save" disabled onclick="SureDlg(this);" type="button" class="w3-button w3-green w3-padding-small">Save</button>
                            <button id="dns_cancel" disabled onclick="disableElmt('dns_save','dns_cancel');doRequestAll();" type="button" class="w3-button w3-red w3-padding-small">Cancel</button>
                        </div>

                        <div class="w3-row w3-padding-8 w3-small">
                            DNS changes take effect on next restart
                        </div>
                        
                    </div>
                </div> 
            </div>

        </div>



        <!-- Dialogs -->
    
        <!-- Wifi Network Dialog -->

        <div id="wifi_stn_dlg" class="w3-modal">
            <div class="w3-modal-content w3-center w3-card-4" style="max-width:280px;;margin:0 auto;">
                <span onclick="document.getElementById('wifi_stn_dlg').style.display='none'" class="w3-button w3-large w3-padding-small w3-hover-red w3-display-topright">X</span>
                <div class="w3-container w3-center w3-padding-8">
                    <b>Wifi Network</b>
                </div>
                <form class="w3-container w3-no-padding">
                    <div class="w3-container">
                        <div class="w3-section">

                            <!-- WiFi Details -->
                            <input id="wifi_stn_ssid" class="w3-input w3-border w3-margin-bottom" type="text" minlength="7" maxlength="15" placeholder="Enter network name" required autocomplete="current-user" onchange="enableElmt('wifi_stn_save');">
                    
                            <div class="w3-display-container">
                                <input id="wifi_stn_pwd" class="w3-input w3-border w3-margin-bottom" type="password" minlength="7" maxlength="15" placeholder="Enter password" autocomplete="current-password" onchange="enableElmt('wifi_stn_save');">
                                <img class="w3-display-right w3-padding-small" alt="" src="eye-16.png"  onclick="visiblePwd('wifi_stn_pwd')">
                            </div>
                    
                            <!-- DHCP Mode -->
                            <div class="w3-row">
                                <div class="w3-cell">
                                    <label class="switch">
                                        <input id="wifi_stn_dhcp" type="checkbox" value="t" onchange="enableElmt('wifi_stn_save');updatePage();">
                                        <span class="slider round"></span>
                                    </label>
                                </div>
                                <div class="w3-cell w3-padding-small">Dynamic IP</div>
                            </div>  
                        </div>
                    
                        <!-- DHCP Detais -->
                        <div id="wifi_stn_statics" class="w3-container w3-animate-opacity" style="padding:0!important; display: none;">
                    
                            <div class="w3-row w3-left">
                                <div class="w3-col" style="line-height: 35px;width:80px;">
                                    IP Address
                                </div>
                                <div class="w3-col w3-padding-small" style="width:150px">
                                    <input id="wifi_stn_ip" class="w3-input w3-border w3-padding-small" type="text" minlength="7" maxlength="15" placeholder="xxx.xxx.xxx.xxx" onchange="if(!ValidateIPaddress(this,'Invalid IP Address')) this.value=''; else enableElmt('wifi_stn_save');">
                                </div>
                            </div>
                    
                            <div class="w3-row w3-left">
                                <div class="w3-col" style="line-height: 35px;width:80px;">
                                    Subnet
                                </div>
                                <div class="w3-col w3-padding-small" style="width:150px">
                                    <input id="wifi_stn_snet" class="w3-input w3-border w3-padding-small" type="text" minlength="7" maxlength="15" placeholder="xxx.xxx.xxx.xxx" onchange="if(!ValidateIPaddress(this,'Invalid Subnet')) this.value=''; else enableElmt('wifi_stn_save');">
                                </div>
                            </div>
                    
                            <div class="w3-row w3-left">
                                <div class="w3-col" style="line-height: 35px;width:80px;">
                                    Gateway
                                </div>
                                <div class="w3-col w3-padding-small" style="width:150px">
                                    <input id="wifi_stn_gtwy" class="w3-input w3-border w3-padding-small" type="text" minlength="7" maxlength="15" placeholder="xxx.xxx.xxx.xxx" onchange="if(!ValidateIPaddress(this,'Invalid Gateway')) this.value=''; else enableElmt('wifi_stn_save');">
                                </div>
                            </div>
                    
                            <div class="w3-row w3-left">
                                <div class="w3-col" style="line-height: 35px;width:80px;">
                                    DNS 1
                                </div>
                                <div class="w3-col w3-padding-small" style="width:150px">
                                    <input id="wifi_stn_dns1" class="w3-input w3-border w3-padding-small" type="text" minlength="7" maxlength="15" placeholder="xxx.xxx.xxx.xxx" onchange="if(!ValidateIPaddress(this,'Invalid DNS IP')) this.value=''; else enableElmt('wifi_stn_save');">
                                </div>
                            </div>
                    
                            <div class="w3-row w3-left">
                                <div class="w3-col" style="line-height: 35px;width:80px;">
                                    DNS 2
                                </div>
                                <div class="w3-col w3-padding-small" style="width:150px">
                                    <input id="wifi_stn_dns2" class="w3-input w3-border w3-padding-small" type="text" minlength="7" maxlength="15" placeholder="xxx.xxx.xxx.xxx" onchange="if(!ValidateIPaddress(this,'Invalid DNS IP')) this.value=''; else enableElmt('wifi_stn_save');">
                                    <br>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Save / Cancel -->
                    <div class="w3-container w3-border-top w3-padding-16 w3-light-grey">
                        <button id="wifi_stn_save" onclick="document.getElementById('wifi_stn_dlg').style.display='none';SureDlg(this);" type="button" disabled class="w3-button w3-green w3-padding-small">Save</button>
                        <button id="wifi_stn_cancel" onclick="document.getElementById('wifi_stn_dlg').style.display='none'" type="button" class="w3-button w3-red w3-padding-small">Cancel</button>
                        <button id="wifi_stn_forget" onclick="document.getElementById('wifi_stn_dlg').style.display='none';SureDlg(this);" type="button" class="w3-button w3-blue w3-right w3-padding-small">Forget</button>
                    </div>
                </form>
            </div>  

        </div>

        <!-- !FOOTER! -->
        <span class="pre-include" src="footer.htm"></span>
        
    </div>

    <!-- End page content -->

    <script src="netsettings.js"></script>
    <script src="common.js"></script>
    
</body>

</html>

